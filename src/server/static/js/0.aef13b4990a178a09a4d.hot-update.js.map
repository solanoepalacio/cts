{"version":3,"sources":["webpack:///./src/client/store/actions/auth.js?363a"],"names":["authAttempt","authSuccess","authFailure","logoutAttempt","logoutSuccess","logoutFailure","logoutRequest","authRequest","actions","type","userId","payload","message","dispatch","endpoint","method","mode","credentials","authData","slug","register","undefined","headers","body","JSON","stringify","then","response","status","json","statusText","Promise","resolve","catch","error","console","log"],"mappings":";;;;;;AAAA;;;;;QAYgBA,W,GAAAA,W;QAMAC,W,GAAAA,W;QAOAC,W,GAAAA,W;QAOAC,a,GAAAA,a;QAMAC,a,GAAAA,a;QAMAC,a,GAAAA,a;QAMAC,a,GAAAA,a;QAWAC,W,GAAAA,W;;AA3DhB;;;;;;AAEA,IAAMC,UAAU;AACdR,eAAa,cADC;AAEdC,eAAa,cAFC;AAGdC,eAAa;AAHC,CAAhB;;kBAMeM,O;AAER,SAASR,WAAT,GAAwB;AAC7B,SAAO;AACLS,UAAMD,QAAQR;AADT,GAAP;AAGD;;AAEM,SAASC,WAAT,OAAkC;AAAA,MAAVS,MAAU,QAAVA,MAAU;;AACvC,SAAO;AACLD,UAAMD,QAAQP,WADT;AAELU,aAAS,EAAED,cAAF;AAFJ,GAAP;AAID;;AAEM,SAASR,WAAT,QAAmC;AAAA,MAAXU,OAAW,SAAXA,OAAW;;AACxC,SAAO;AACLH,UAAMD,QAAQN,WADT;AAELS,aAAS,EAAEC,gBAAF;AAFJ,GAAP;AAID;;AAEM,SAAST,aAAT,GAA0B;AAC/B,SAAO;AACLM,UAAMD,QAAQL;AADT,GAAP;AAGD;;AAEM,SAASC,aAAT,GAA0B;AAC/B,SAAO;AACLK,UAAMD,QAAQJ;AADT,GAAP;AAGD;;AAEM,SAASC,aAAT,GAA0B;AAC/B,SAAO;AACLI,UAAMD,QAAQH;AADT,GAAP;AAGD;;AAEM,SAASC,aAAT,GAA0B;AAC/B,SAAO,UAAUO,QAAV,EAAoB;AACzB,QAAMC,WAAW,mCAAjB;AACA,WAAO,0BAAMA,QAAN,EAAgB;AACrBC,cAAQ,KADa;AAErBC,YAAM,MAFe;AAGrBC,mBAAa;AAHQ,KAAhB,CAAP;AAKD,GAPD;AAQD;;AAEM,SAASV,WAAT,CAAsBW,QAAtB,EAAgC;AACrC,SAAO,UAAUL,QAAV,EAAoB;AACzBA,aAASb,WAAT;AACA,QAAMmB,OAAOD,SAASE,QAAT,GAAoB,UAApB,GAAiC,OAA9C;AACA,QAAMN,2CAAyCK,IAA/C;AACAD,aAASE,QAAT,GAAoBC,SAApB;AACA,WAAO,0BAAMP,QAAN,EAAgB;AACrBC,cAAQ,MADa;AAErBO,eAAS;AACP,wBAAgB,kBADT;AAEPL,qBAAa,SAFN;AAGPD,cAAM;AAHC,OAFY;AAOrBO,YAAMC,KAAKC,SAAL,CAAeP,QAAf;AAPe,KAAhB,EASNQ,IATM,CASD,oBAAY;AAChB,UAAIC,SAASC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,eAAOD,SAASE,IAAT,EAAP;AACD,OAFD,MAEO,IAAIF,SAASC,MAAT,KAAoB,GAAxB,EAA6B;AAClCf,iBAASX,YAAY,EAAEU,SAASe,SAASG,UAApB,EAAZ,CAAT;AACA,eAAOC,QAAQC,OAAR,CAAgB,KAAhB,CAAP;AACD;AACF,KAhBM,EAiBNN,IAjBM,CAiBD,UAACC,QAAD,EAAc;AAClBA,kBAAYd,SAASZ,YAAY0B,QAAZ,CAAT,CAAZ;AACD,KAnBM,EAoBNM,KApBM,CAoBA,UAACC,KAAD,EAAW;AAChBC,cAAQC,GAAR,CAAY,2BAAZ,EAAyCF,KAAzC;AACArB,eAASX,YAAY,EAAEU,SAASsB,MAAMtB,OAAjB,EAAZ,CAAT;AACD,KAvBM,CAAP;AAwBD,GA7BD;AA8BD,C","file":"0.aef13b4990a178a09a4d.hot-update.js","sourcesContent":["'use strict'\n\nimport fetch from 'cross-fetch'\n\nconst actions = {\n  authAttempt: 'auth-attempt',\n  authSuccess: 'auth-success',\n  authFailure: 'auth-failure'\n}\n\nexport default actions\n\nexport function authAttempt () {\n  return {\n    type: actions.authAttempt,\n  }\n}\n\nexport function authSuccess ({ userId }) {\n  return {\n    type: actions.authSuccess,\n    payload: { userId }\n  }\n}\n\nexport function authFailure ({ message }) {\n  return {\n    type: actions.authFailure,\n    payload: { message }\n  }\n}\n\nexport function logoutAttempt () {\n  return {\n    type: actions.logoutAttempt\n  }\n}\n\nexport function logoutSuccess () {\n  return {\n    type: actions.logoutSuccess\n  }\n}\n\nexport function logoutFailure () {\n  return {\n    type: actions.logoutFailure\n  }\n}\n\nexport function logoutRequest () {\n  return function (dispatch) {\n    const endpoint = 'http://localhost:5000/auth/logout'\n    return fetch(endpoint, {\n      method: 'GET',\n      mode: 'cors',\n      credentials: 'include' \n    })\n  }\n}\n\nexport function authRequest (authData) {\n  return function (dispatch) {\n    dispatch(authAttempt)\n    const slug = authData.register ? 'register' : 'login'\n    const endpoint = `http://localhost:5000/auth/${slug}`\n    authData.register = undefined\n    return fetch(endpoint, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        credentials: 'include',\n        mode: 'cors'\n      },\n      body: JSON.stringify(authData)\n    })\n    .then(response => {\n      if (response.status === 200) {\n        return response.json()\n      } else if (response.status === 401) {\n        dispatch(authFailure({ message: response.statusText }))\n        return Promise.resolve(false)\n      }\n    })\n    .then((response) => {\n      response && dispatch(authSuccess(response))\n    })\n    .catch((error) => {\n      console.log('WARNING => REQUEST ERROR:', error)\n      dispatch(authFailure({ message: error.message }))\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/store/actions/auth.js"],"sourceRoot":""}